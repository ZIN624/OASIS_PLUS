<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </title>
  <style>
    /* åŸºæœ¬çš„ãªã‚¹ã‚¿ã‚¤ãƒ« */
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f8f8;
      color: #333;
      margin: 0;
      padding: 0;
    }
    h1 {
      text-align: center;
      color: #FFF;
      margin-top: 20px;
      background-color: #4CAF50;
      padding: 10px 0;
    }
    .title {
      font-size: 1.6em;
      color: #4CAF50;
      margin-bottom: 10px;
      text-align: center;
    }
    .date-container {
      display: flex;
      flex-direction: column;
      margin-bottom: 20px;
      padding-bottom: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .input-wrapper {
      margin: 10px;
    }
    .input-label {
      font-size: 1.2em;
      margin-bottom: 5px;
      display: block;
    }
    .input-select,
    .input-field,
    .input-textarea {
      font-size: 1em;
      padding: 10px;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: #f9f9f9;
      transition: border-color 0.3s ease;
    }
    .input-select:focus,
    .input-field:focus,
    .input-textarea:focus {
      outline: none;
      border-color: #4CAF50;
      background-color: #fff;
    }
    button {
      padding: 12px;
      font-size: 1.5em;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      height: 100px;
    }
    button:hover {
      background-color: #45a049;
    }
    #other-input-container {
      display: none;
    }
  </style>
  
</head>

<body>
  
  <script src="https://static.line-scdn.net/liff/2.1/sdk.js"></script>
  <h1>OASISäºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </h1>

  <form id="reservationForm">
    <!-- åå‰ -->
    <h2 class="title">äºˆç´„è€…å</h2>
    <div class="input-wrapper">
      <label for="name" class="input-label">äºˆç´„è€…å:</label>
      <input type="text" id="name" name="name" placeholder="ã‚ªã‚¢ã‚·ã‚¹å¤ªéƒ" class="input-field" required><br><br>
    </div>

    <!-- ç¬¬1å¸Œæœ› -->
    <h2 class="title">ç¬¬1å¸Œæœ›</h2>
    <div class="date-container">
      <div class="input-wrapper">
        <label for="month1" class="input-label">æœˆ:</label>
        <select id="month1" name="month1" class="input-select" required>
          <!-- æœˆã®é¸æŠè‚¢ -->
          <option value="1">1æœˆ</option>
          <option value="2">2æœˆ</option>
          <option value="3">3æœˆ</option>
          <option value="4">4æœˆ</option>
          <option value="5">5æœˆ</option>
          <option value="6">6æœˆ</option>
          <option value="7">7æœˆ</option>
          <option value="8">8æœˆ</option>
          <option value="9">9æœˆ</option>
          <option value="10">10æœˆ</option>
          <option value="11">11æœˆ</option>
          <option value="12">12æœˆ</option>
        </select>
      </div>

      <div class="input-wrapper">
        <label for="day1" class="input-label">æ—¥:</label>
        <select id="day1" name="day1" class="input-select" required></select>
      </div>

      <div class="input-wrapper">
        <label for="time1" class="input-label">æ™‚é–“:</label>
        <select id="time1" name="time1" class="input-select" required>
          <!-- æ™‚é–“ã®é¸æŠè‚¢ -->
          <option value="9:00">9:00</option>
          <option value="10:00">10:00</option>
          <option value="11:00">11:00</option>
          <option value="12:00">12:00</option>
          <option value="13:00">13:00</option>
          <option value="14:00">14:00</option>
          <option value="15:00">15:00</option>
          <option value="16:00">16:00</option>
          <option value="17:00">17:00</option>
          <option value="18:00">18:00</option>
        </select>
      </div>
    </div>

    <!-- å¸Œæœ›2 / å¸Œæœ›3ã®è¿½åŠ ãƒœã‚¿ãƒ³ -->
    <button type="button" id="addSecondChoice">ç¬¬2å¸Œæœ›ã‚’è¿½åŠ </button>
    <div id="secondChoice"></div>
    

    

    <button type="button" id="addThirdChoice">ç¬¬3å¸Œæœ›ã‚’è¿½åŠ </button>
    <div id="thirdChoice"></div>

    <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <h2 class="title">ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠ:</h2>
    <div class="input-wrapper">
      <label for="menu" class="input-label">ãƒ¡ãƒ‹ãƒ¥ãƒ¼:</label>
      <select id="menu" class="input-select" onchange="toggleOtherInput()">
        <option value="ã‚«ãƒƒãƒˆã‚¨ã‚¹ãƒ†">ã‚«ãƒƒãƒˆã‚¨ã‚¹ãƒ†</option>
        <option value="ã‚«ãƒ©ãƒ¼ã‚±ã‚¢">ã‚«ãƒ©ãƒ¼ã‚±ã‚¢</option>
        <option value="ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã‚±ã‚¢">ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã‚±ã‚¢</option>
        <option value="ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚±ã‚¢">ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚±ã‚¢</option>
        <option value="ãƒ‘ãƒ¼ãƒã‚±ã‚¢">ãƒ‘ãƒ¼ãƒã‚±ã‚¢</option>
        <option value="ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼">ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼</option>
      </select>
    </div>

    <!-- "ãã®ä»–"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="other-input-container" class="input-wrapper" style="display: none;">
      <label for="ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼" class="input-label">ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼</label>
      <input type="text" id="ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼" class="input-field" placeholder="å…·ä½“çš„ã«ã”è¨˜å…¥ã—ã¦ãã ã•ã„">
    </div>

    <!-- ã‚¹ã‚¿ãƒƒãƒ• -->
    <h2 class="title">æ‹…å½“ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆ:</h2>
    <div class="input-wrapper">
      <label for="staff" class="input-label">ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆ:</label>
      <select id="staff" name="staff" class="input-select" required>
        <option value="æŒ‡åãªã—">æŒ‡å®šãªã—</option>
        <option value="å²¡å´ä»æ¸¡ã€ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã€‘">å²¡å´ä»æ¸¡ã€ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã€‘</option>
        <option value="å²¡å´èœæœˆã€ãƒãƒ¼ãƒ•ã€‘">å²¡å´èœæœˆã€ãƒãƒ¼ãƒ•ã€‘</option>
      </select>
    </div>

    <!-- é›»è©±ç•ªå· -->
    <h2 class="title">é›»è©±ç•ªå·:</h2>
    <div class="input-wrapper">
      <label for="phoneNumber" class="input-label">é›»è©±ç•ªå·:</label>
      <input type="text" id="phoneNumber" class="input-field" placeholder="ä¾‹: 090-1234-5678 ã¾ãŸã¯ 09012345678" required>
    </div>

    <!-- å‚™è€ƒ -->
    <h2 class="title">å‚™è€ƒ:</h2>
    <div class="input-wrapper">
      <label for="comments" class="input-label">ã”è¦æœ›ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ:</label>
      <textarea id="comments" name="comments" class="input-field" rows="4" placeholder="ã”è¦æœ›ãŒã‚ã‚Œã°ã”è¨˜å…¥ãã ã•ã„"></textarea>
    </div>

    <!-- é€ä¿¡ãƒœã‚¿ãƒ³ -->
    <button type="submit"id="someButton">äºˆç´„å¸Œæœ›ã‚’é€ä¿¡</button>
  </form>

 

<script charset="utf-8" src="https://static.line-scdn.net/liff/edge/versions/2.22.3/sdk.js"></script>
<script>
  liff.init({
  liffId: '2006595194-AkL3pQ0D' // LINE Developersã‹ã‚‰å–å¾—ã—ãŸLIFF ID
}).then(() => {
  console.log('LIFF initialized');
}).catch((error) => {
  console.error('LIFF initialization failed:', error);
});

  // ç‰¹å®šã®æ—¥ä»˜ã®æ›œæ—¥ã‚’è¨ˆç®—ã—ã¦ã€ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è¿½åŠ ã™ã‚‹é–¢æ•°
  function populateDays() {
  const select = document.getElementById('day1');
  const weekdays = ["æ—¥", "æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ"];

  const today = new Date(); 
  const currentYear = today.getFullYear();
  const currentMonth = today.getMonth();
  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate(); 

  // 1æ—¥ã‹ã‚‰ãã®æœˆã®æœ€å¾Œã®æ—¥ã¾ã§ã‚’è¡¨ç¤º
  for (let day = 1; day <= daysInMonth; day++) {
    const date = new Date(currentYear, currentMonth, day); 
    const weekday = weekdays[date.getDay()];

    // optionã‚¿ã‚°ã‚’ä½œæˆ
    const option = document.createElement('option');
    
    // ã“ã“ã‚’ä¿®æ­£ï¼šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å¤‰æ›´
    option.value = day; // æ—¥ä»˜ã®æ•°å€¤ã®ã¿ã‚’å€¤ã¨ã—ã¦è¨­å®š
    option.textContent = `${day}æ—¥ (${weekday})`; // è¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆã¯ã€Œ1æ—¥ (æœˆ)ã€ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

    // ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è¿½åŠ 
    select.appendChild(option);
  }
}

  // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«populateDaysã‚’å®Ÿè¡Œ
  window.onload = populateDays;

  // æœˆã¨æ—¥ã®é¸æŠè‚¢ã‚’åˆ¶å¾¡ã™ã‚‹é–¢æ•°
  function updateDays(monthSelectId, daySelectId) {
    const month = document.getElementById(monthSelectId).value;
    const daySelect = document.getElementById(daySelectId);

    // æ—¥ä»˜ã‚’ãƒªã‚»ãƒƒãƒˆ
    daySelect.innerHTML = '';

    // æœˆã”ã¨ã«æ—¥æ•°ã‚’åˆ¶é™
    let maxDays;
    switch (month) {
      case '2':
        maxDays = 28; 
        break;
      case '4':
      case '6':
      case '9':
      case '11':
        maxDays = 30; 
        break;
      default:
        maxDays = 31; 
    }

    // æ—¥æ•°ã®é¸æŠè‚¢ã‚’ä½œæˆ
    for (let i = 1; i <= maxDays; i++) {
      const option = document.createElement("option");
      option.value = i;
      option.text = `${i}æ—¥`;
      daySelect.appendChild(option);
    }
  }

// ç¬¬2å¸Œæœ›ã‚’è¿½åŠ 
document.getElementById('addSecondChoice').addEventListener('click', function() {
    const secondChoiceDiv = document.getElementById('secondChoice');
    
    // ã‚‚ã—ç¬¬2å¸Œæœ›ãƒ•ã‚©ãƒ¼ãƒ ãŒã¾ã è¡¨ç¤ºã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€è¿½åŠ 
    if (!secondChoiceDiv.innerHTML) {
        secondChoiceDiv.innerHTML = `
            <h2 class="title">ç¬¬2å¸Œæœ›</h2>
            <div class="input-wrapper">
              <label for="month2" class="input-label">æœˆ:</label>
              <select id="month2" name="month2" class="input-select" onchange="updateDays('month2', 'day2')" required>
                <option value="1">1æœˆ</option>
                <option value="2">2æœˆ</option>
                <option value="3">3æœˆ</option>
                <option value="4">4æœˆ</option>
                <option value="5">5æœˆ</option>
                <option value="6">6æœˆ</option>
                <option value="7">7æœˆ</option>
                <option value="8">8æœˆ</option>
                <option value="9">9æœˆ</option>
                <option value="10">10æœˆ</option>
                <option value="11">11æœˆ</option>
                <option value="12">12æœˆ</option>
              </select>
            </div>
            <div class="input-wrapper">
              <label for="day2" class="input-label">æ—¥:</label>
              <select id="day2" name="day2" class="input-select" required></select>
            </div>
            <div class="input-wrapper">
              <label for="time2" class="input-label">æ™‚é–“:</label>
              <select id="time2" name="time2" class="input-select" required>
                <option value="9:00">9:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
                <option value="12:00">12:00</option>
                <option value="13:00">13:00</option>
                <option value="14:00">14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
                <option value="17:00">17:00</option>
                <option value="18:00">18:00</option>
              </select>
            </div>
        `;
        updateDays('month2', 'day2');
    } else {
        // ã™ã§ã«ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°éè¡¨ç¤ºã«ã™ã‚‹
        secondChoiceDiv.innerHTML = '';
    }
});

// ç¬¬3å¸Œæœ›ã‚’è¿½åŠ 
document.getElementById('addThirdChoice').addEventListener('click', function() {
    const thirdChoiceDiv = document.getElementById('thirdChoice');
    
    // ã‚‚ã—ç¬¬3å¸Œæœ›ãƒ•ã‚©ãƒ¼ãƒ ãŒã¾ã è¡¨ç¤ºã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€è¿½åŠ 
    if (!thirdChoiceDiv.innerHTML) {
        thirdChoiceDiv.innerHTML = `
            <h2 class="title">ç¬¬3å¸Œæœ›</h2>
            <div class="input-wrapper">
              <label for="month3" class="input-label">æœˆ:</label>
              <select id="month3" name="month3" class="input-select" onchange="updateDays('month3', 'day3')" required>
                <option value="1">1æœˆ</option>
                <option value="2">2æœˆ</option>
                <option value="3">3æœˆ</option>
                <option value="4">4æœˆ</option>
                <option value="5">5æœˆ</option>
                <option value="6">6æœˆ</option>
                <option value="7">7æœˆ</option>
                <option value="8">8æœˆ</option>
                <option value="9">9æœˆ</option>
                <option value="10">10æœˆ</option>
                <option value="11">11æœˆ</option>
                <option value="12">12æœˆ</option>
              </select>
            </div>
            <div class="input-wrapper">
              <label for="day3" class="input-label">æ—¥:</label>
              <select id="day3" name="day3" class="input-select" required></select>
            </div>
            <div class="input-wrapper">
              <label for="time3" class="input-label">æ™‚é–“:</label>
              <select id="time3" name="time3" class="input-select" required>
                <option value="9:00">9:00</option>
                <option value="10:00">10:00</option>
                <option value="11:00">11:00</option>
                <option value="12:00">12:00</option>
                <option value="13:00">13:00</option>
                <option value="14:00">14:00</option>
                <option value="15:00">15:00</option>
                <option value="16:00">16:00</option>
                <option value="17:00">17:00</option>
                <option value="18:00">18:00</option>
              </select>
            </div>
        `;
        updateDays('month3', 'day3');
    } else {
        // ã™ã§ã«ãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°éè¡¨ç¤ºã«ã™ã‚‹
        thirdChoiceDiv.innerHTML = '';
    }
});

// æœˆãŒé¸æŠã•ã‚ŒãŸã¨ãã«æ—¥ä»˜ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
function updateDays(monthId, dayId) {
    const month = document.getElementById(monthId).value;
    const daysSelect = document.getElementById(dayId);

    // ã“ã“ã§é¸æŠã•ã‚ŒãŸæœˆã«åŸºã¥ã„ã¦ã€æ—¥ä»˜ã‚’å‹•çš„ã«è¿½åŠ 
    const daysInMonth = new Date(2024, month, 0).getDate(); // 2024å¹´ã®æœˆã®æ—¥æ•°ã‚’å–å¾—

    let daysOptions = '';
    for (let i = 1; i <= daysInMonth; i++) {
        daysOptions += `<option value="${i}">${i}æ—¥</option>`;
    }

    daysSelect.innerHTML = daysOptions;
}


  // æœˆãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚ã«æ—¥ä»˜ã®é¸æŠè‚¢ã‚’æ›´æ–°
  const monthSelectors = ['month1', 'month2', 'month3'];
  const daySelectors = ['day1', 'day2', 'day3'];


// ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼å…¥åŠ›ã®è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹é–¢æ•°
function toggleOtherInput() {
  const menu = document.getElementById('menu').value;
  const otherInputContainer = document.getElementById('other-input-container');
  if (menu === "ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼") {
    otherInputContainer.style.display = "block";
  } else {
    otherInputContainer.style.display = "none";
    document.getElementById('ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼').value = ""; // å…¥åŠ›ã‚’ãƒªã‚»ãƒƒãƒˆ
  }
}
document.getElementById('phoneNumber').addEventListener('input', function (e) {
  const phoneInput = e.target.value;
  const isValid = /^(\d{2,4}-?\d{2,4}-?\d{4})$/.test(phoneInput); // ãƒã‚¤ãƒ•ãƒ³ã‚ã‚Šãƒ»ãªã—å¯¾å¿œ
  if (!isValid) {
    e.target.setCustomValidity('é›»è©±ç•ªå·ã¯æ­£ã—ã„å½¢å¼ã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: 090-1234-5678 ã¾ãŸã¯ 09012345678ï¼‰');
  } else {
    e.target.setCustomValidity('');
  }
});

 // åå‰ã¨é›»è©±ç•ªå·ã®è‡ªå‹•å…¥åŠ›
 const nameInput = document.getElementById("name");
  const phoneInput = document.getElementById("phoneNumber");

  // åå‰ã¨é›»è©±ç•ªå·ã®è¨˜æ†¶
  nameInput.value = localStorage.getItem("name") || '';
  phoneInput.value = localStorage.getItem("phoneNumber") || '';

  // åå‰ã¨é›»è©±ç•ªå·ã‚’ä¿å­˜
  nameInput.addEventListener('input', function() {
    localStorage.setItem("name", nameInput.value);
  });
  phoneInput.addEventListener('input', function() {
    localStorage.setItem("phoneNumber", phoneInput.value);
  });
 // é€ä¿¡ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
 document.getElementById("someButton").addEventListener("click", function () {
  console.log("Button clicked");
  event.preventDefault();  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ã‚’é˜²æ­¢

  // ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
  const name = document.getElementById('name').value;
  if (!name) {
    alert('åå‰ã¯å¿…é ˆã§ã™');
    return;
  }

  const phone = document.getElementById('phoneNumber').value;
  if (!phone) {
    alert('é›»è©±ç•ªå·ã¯å¿…é ˆã§ã™');
    return;
  }

// äºˆç´„æƒ…å ±ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¾ã¨ã‚ã‚‹
const reservation = {
  name: document.getElementById('name')?.value || '',
  preferences: [
    {
      month: document.getElementById('month1')?.value || '',
      day: document.getElementById('day1')?.value || '',
      time: document.getElementById('time1')?.value || ''
    },
    {
      month: document.getElementById('month2')?.value || '',
      day: document.getElementById('day2')?.value || '',
      time: document.getElementById('time2')?.value || ''
    },
    {
      month: document.getElementById('month3')?.value || '',
      day: document.getElementById('day3')?.value || '',
      time: document.getElementById('time3')?.value || ''
    }
  ].filter(pref => pref.month && pref.day && pref.time), // å¿…é ˆé …ç›®ãŒæƒã£ã¦ã„ã‚‹å ´åˆã®ã¿ãƒ•ã‚£ãƒ«ã‚¿
  menu: document.getElementById('menu').value,
  otherMenu: document.getElementById('ãã®ä»–ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼').value, // ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å…¥åŠ›ã‚’è¿½åŠ 
  staff: document.getElementById('staff')?.value || '',
  phone: document.getElementById('phoneNumber')?.value || '',
  comments: document.getElementById('comments')?.value || ''
};

 // é€ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹ç¯‰
let message = `äºˆç´„è€…å: ${reservation.name}\n`;

// ç¬¬1å¸Œæœ›ã€œç¬¬3å¸Œæœ›ã‚’è¡¨ç¤º
// äºˆç´„æƒ…å ±ã®è¡¨ç¤ºã‚’ä¿®æ­£
if (reservation.preferences.length > 0) {
  reservation.preferences.forEach((pref, index) => {
    if (pref.month && pref.day && pref.time) {
      // ${pref.month}æœˆ${pref.day}æ—¥ ${pref.time}æ™‚ ã®å½¢å¼
      message += `ç¬¬${index + 1}å¸Œæœ›: ${pref.month}æœˆ${pref.day}æ—¥ ${pref.time}æ™‚\n`;
    }
  });
}
} else {
  message += 'ç¬¬2å¸Œæœ›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\n';  // ç¬¬2å¸Œæœ›ãŒãªã„å ´åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
}

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º
message += `ãƒ¡ãƒ‹ãƒ¥ãƒ¼: ${reservation.menu}`;
if (reservation.menu === 'ãã®ä»–ãƒ¡ãƒ‹ãƒ¥ãƒ¼' && reservation.otherMenu) {
  message += ` (${reservation.otherMenu})`; // å…¥åŠ›ã•ã‚ŒãŸå†…å®¹ã‚’è¿½åŠ 
}
message += `\n`;


// ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆã€é›»è©±ç•ªå·ã€ã‚³ãƒ¡ãƒ³ãƒˆã®è¡¨ç¤º
message += `æ‹…å½“ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆ: ${reservation.staff}\né›»è©±ç•ªå·: ${reservation.phone}\nã‚³ãƒ¡ãƒ³ãƒˆ: ${reservation.comments}`;

console.log(message);  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ç¢ºèª



  // LINEãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
  liff.sendMessages([{
    type: 'text',
    text: message
  }]).then(function () {
    alert('ã”äºˆç´„å¸Œæœ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼
      ç¢ºèªè‡´ã—ã¾ã™ã®ã§æš«ããŠå¾…ã¡ãã ã•ã„ğŸ˜Š');
  }).catch(function (error) {
    alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message || error);
  });
    // 3ç§’ï¼ˆ3000ãƒŸãƒªç§’ï¼‰å¾Œã«é–‰ã˜ã‚‹
  setTimeout(() => {
    liff.closeWindow();
  }, 3000);
}).catch(function (error) {
  alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message || error);
});
});


</script>
</body>
</html>
